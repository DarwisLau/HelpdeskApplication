WindowManager:
	LoginWindow:
	registrationwindow:
	mainmenu:
	chooserpage:
	helpdeskform:
	helpdeskformlist:
	viewhelpdeskform:
	viewimage:
	addeditdeletefaqpage1:
	addeditdeletefaqpage2:
	faqlist:
	viewfaq:

<LoginWindow>:
	name: "login"

	MDLabel:
		text: "Helpdesk Application"
		font_size: 30
		size_hint_y: None
		pos_hint:{"x":0.05,"top":1}
		height: self.texture_size[1]
		padding_y: 15

	MDLabel:
		text: "User Email"
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":238/800,"y":380/500}
		height: self.texture_size[1]
		padding_y: 15

	MDTextField:
		id: login_email
		hint_text: "Email"
		icon_right: "account"
		mode: "rectangle"
		size_hint_x: None
		pos_hint: {"x":250/800,"y":350/500}
		width: 300
		font_size: 15

	MDLabel:
		id: login_email_error
		text: " "
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":238/800,"y":325/500}
		height: self.texture_size[1]
		padding_y: 15
		canvas.before:
			Color:
				rgba: (0,0,0,1)
		color: ("#FF0000")

	MDLabel:
		text: "Password"
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":238/800,"y":310/500}
		height: self.texture_size[1]
		padding_y: 15

	MDTextField:
		id: login_password
		mode:"rectangle"
		hint_text: "password"
		icon_right: "eye-off"
		size_hint_x: None
		width: 300
		font_size: 15
		pos_hint: {"x":250/800,"y":280/500}
		password: True

	MDLabel:
		id: login_password_error
		text: " "
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":238/800,"y":255/500}
		height: self.texture_size[1]
		padding_y: 15
		canvas.before:
			Color:
				rgba: (0,0,0,1)
		color: ("#FF0000")

	MDRectangleFlatButton:
		text: "Login"
		font_size: 16
		pos_hint: {"x":238/800, "y": 225/500}
		on_press: 
			app.verify_login_email(); app.verify_login_password(); app.login()
			root.ids.login_email.text = "" if login_button_message.text == "Welcome..." else login_email.text
			root.ids.login_password.text = ""
			app.root.current = "Main Menu" if login_button_message.text == "Welcome..." else "login"
			root.ids.login_button_message.text = "" if login_button_message.text == "Welcome..." else login_button_message.text
			root.manager.transition.direction = "up"

	MDLabel:
		id: login_button_message
		text: " "
		font_size: 15
		size_hint_y: None
		pos_hint: {"x":238/800, "y": 195/500}
		height: self.texture_size[1]
		padding_y: 15
           
	MDTextButton:
		text: "Don't have an account? Register here."
		font_size: 14
		pos_hint: {"x":358/800, "y":245/500}
		on_press: 
			root.ids.login_email.text = ""
			root.ids.login_email_error.text = ""
			root.ids.login_password.text = ""
			root.ids.login_password_error.text = ""
			app.root.current = "Registration"
			root.manager.transition.direction = "left"
			

<registrationwindow>:
	name: "Registration"

	MDLabel:
		text: "Registration Page"
		font_size: 30
		size_hint_y: None
		pos_hint:{"x":0.05,"top":1}
		height: self.texture_size[1]
		padding_y: 15

	MDLabel:
		text: "Email address"
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":238/800,"y":380/500}
		height: self.texture_size[1]
		padding_y: 15

	MDTextField:
		id: email
		hint_text: "Email address"
		icon_right: "email"
		mode: "rectangle"
		size_hint_x: None
		pos_hint: {"x":250/800,"y":350/500}
		width: 300
		font_size: 15

	MDLabel:
		id: email_error
		text: " "
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":250/800,"y":323/500}
		height: self.texture_size[1]
		padding_y: 15
		canvas.before:
			Color:
				rgba: (0,0,0,1)
		color: ("#FF0000")

	MDLabel:
		text: "Password"
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":238/800,"y":310/500}
		height: self.texture_size[1]
		padding_y: 15

	MDTextField:
		id: password
		mode:"rectangle"
		hint_text: "password"
		icon_right: "eye-off"
		size_hint_x: None
		width: 300
		font_size: 15
		pos_hint: {"x":250/800,"y":280/500}
		password: True

	MDLabel:
		id: password_error
		text: " "
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":250/800,"y":253/500}
		height: self.texture_size[1]
		padding_y: 15
		canvas.before:
			Color:
				rgba: (0,0,0,1)
		color: ("#FF0000")

	MDLabel:
		text: "Re-enter password"
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":238/800,"y":240/500}
		height: self.texture_size[1]
		padding_y: 15

	MDTextField:
		id: re_enter_password
		mode:"rectangle"
		hint_text: "password"
		size_hint_x: None
		width: 300
		font_size: 15
		pos_hint: {"x":250/800,"y":210/500}
		password: True

	MDLabel:
		id: re_enter_password_error
		text: " "
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":250/800,"y":185/500}
		height: self.texture_size[1]
		padding_y: 15
		canvas.before:
			Color:
				rgba: (0,0,0,1)
		color: ("#FF0000")

	MDLabel:
		id: captcha
		text: " "
		font_size: 20
		size_hint_y: None
		pos_hint:{"x":270/800,"y":166.5/500}
		height: self.texture_size[1]
		padding_y: 15

	MDRectangleFlatButton:
		id: get_captcha
		text: "Generate captcha"
		font_size:16
		pos_hint:{"x":350/800,"y":167.5/500}
		on_press: app.create_captcha()

	MDTextField:
		id: captcha_answer
		mode:"rectangle"
		hint_text: "Captcha"
		size_hint_x: None
		width: 300
		font_size: 15
		pos_hint: {"x":250/800,"y":120/500}

	MDRectangleFlatButton:
		text: "Verify"
		font_size: 16
		pos_hint: {"x":580/800, "y": 122.5/500.0}
		on_press: app.verify_captcha()

	MDLabel:
		id: captcha_error
		text: " "
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":250/800,"y":90/500}
		height: self.texture_size[1]
		padding_y: 15
		canvas.before:
			Color:
				rgba: (0,0,0,1)
		color: ("#FF0000")

	MDLabel:
		id: captcha_validated
		text: " "
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":250/800,"y":90/500}
		height: self.texture_size[1]
		padding_y: 15

	MDTextButton:
		text: "Already have an account? Login here."
		font_size: 14
		pos_hint: {"x":358/800, "y":70/500}
		on_press: 
			app.root.current = "login"
			root.manager.transition.direction = "right"
			root.ids.email.text = ""
			root.ids.password.text = ""
			root.ids.re_enter_password.text = ""
			root.ids.captcha.text = ""
			root.ids.captcha_answer.text = ""
			root.ids.captcha_error.text = ""
			root.ids.captcha_validated.text = ""
			root.ids.registration_complete.text = ""

	MDRectangleFlatButton:
		text: "Register"
		font_size: 16
		pos_hint: {"x":238/800, "y": 70/500}
		on_press: app.verify_email() ; app.verify_password() ; app.verify_re_enter_password() ; app.register()


	MDLabel:
		id: registration_complete
		text: " "
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":250/800,"y":40/500}
		height: self.texture_size[1]
		padding_y: 15

<mainmenu>:
	name:"Main Menu"

	MDLabel:
		text:"Main Menu"
		font_style: "H4"
		size_hint_y: None
		pos_hint:{"x":0.05,"y":0.85}
		height: self.texture_size[1]
		padding_y:15

	MDRectangleFlatIconButton:
		text:"Logout"
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":0.75,"y":0.85}
		text_color:("#99c742")
		on_press: 
			app.logout()
			app.root.current = "login" if logout_button_message.text == "You have logged out." else "Main Menu"
			root.ids.logout_button_message.text = "" if logout_button_message.text == "You have logged out." else logout_button_message.text
			root.manager.transition.direction = "down"

	MDLabel:
		id: logout_button_message
		text: " "
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":0.75,"y":0.79}
		height: self.texture_size[1]
		padding_y: 15

	MDLabel:
		text:"Helpdesk Application"
		font_style: "H3"
		size_hint_y: None
		pos_hint:{"x":300/800,"y":250/500}
		height: self.texture_size[1]
		padding_y:15
		canvas.before:
			Color:
				rgba: (0,0,0,1)
		color: ("#673ab7")

	MDLabel:
		text:"All Project 2 by Muhd Darwis and Chan Khai Shen"
		font_style: "Subtitle1"
		size_hint_y: None
		pos_hint:{"x":300/800,"y":230/500}
		height: self.texture_size[1]
		padding_y:15
		canvas.before:
			Color:
				rgba: (0,0,0,1)
		color: ("#99c742")

	MDRectangleFlatIconButton:
		text: "FAQs>"
		icon: "frequently-asked-questions"
		width: 100
		font_size: 30
		pos_hint: {"x":80/800, "y": 200/500}
		text_color:("#99c742")
		on_press:
			app.root.current = "AddEditDeleteFAQPage1" if app.checkRole() == "administrator" else "FAQList"
			app.setAddFAQ() if app.checkRole() == "administrator" else app.loadFAQs()
			root.manager.transition.direction = "left"	

	MDRectangleFlatIconButton:
		text: "Helpdesk Form>"
		icon: "form-select"
		width: 100
		font_size: 30
		pos_hint: {"x":15/800, "y": 280/500}
		text_color:("#99c742")
		on_press: 
			app.root.current = "Helpdesk form" if app.checkRole() == "user" else "HelpdeskFormList"
			() if app.checkRole() == "user" else app.loadHelpdeskForms()
			root.manager.transition.direction = "left"
	
<helpdeskform>:
	name:"Helpdesk form"

	MDRectangleFlatIconButton:
		text:"Back"
		font_size: 15
		size_hint_y: None
		pos_hint:{"x":0.75,"y":0.85}
		text_color:("#99c742")
		on_press: 
			root.ids.user_email_address.text = ""
			root.ids.user_email_error.text = ""
			root.ids.issue.text = ""
			app.root.current = "Main Menu"
			root.manager.transition.direction = "right"

	MDRectangleFlatButton:
		text:"View Form"
		font_size: 15
		size_hint_y: None
		pos_hint: {"x":0.60,"y":0.85}
		text_color:("#99c742")
		on_press:
			root.ids.user_email_address.text = ""
			root.ids.user_email_error.text = ""
			root.ids.issue.text = ""
			app.loadHelpdeskForms()
			app.root.current = "HelpdeskFormList"
			root.manager.transition.direction = "left"

	MDLabel:
		text:"Helpdesk Form"
		font_style: "H4"
		size_hint_y: None
		pos_hint:{"x":0.05,"y":0.85}
		height: self.texture_size[1]
		padding_y:15

	MDLabel:
		text:"User email address"
		size_hint_y: None
		font_size: 15
		pos_hint:{"x":150/800,"y":380/500}
		height: self.texture_size[1]
		canvas.before:
			Color:
				rgba: (0,0,0,1)
		color: ("#673ab7")

	MDTextField:
		id: user_email_address
		hint_text: "Email address"
		mode: "rectangle"
		size_hint: 450/800, None
		pos_hint: {"x":165/800,"y":340/500}
		width: 300
		font_size: 15

	MDLabel:
		id: user_email_error
		text: " "
		size_hint_y: None
		font_size: 15
		pos_hint: {"x":165/800,"y":290/500}
		canvas.before:
			Color:
				rgba: (0,0,0,1)
		color: ("#FF0000")		

	MDLabel:
		text:"Describe your issue here:"
		size_hint_y: None
		font_size: 15
		pos_hint:{"x":150/800,"y":310/500}
		height: self.texture_size[1]
		canvas.before:
			Color:
				rgba: (0,0,0,1)
		color: ("#673ab7")

	MDTextField:
		id: issue
		hint_text: "Describe Issue"
		mode: "rectangle"
		multiline: True 
		size_hint: 450/800, 200/500
		pos_hint: {"x":165/800,"y":110/500}
		width: 300
		font_size: 15

	MDRectangleFlatIconButton:
		text:"Upload Image"
		font_size: 15
		icon: "upload"
		size_hint_y: None
		pos_hint:{"x":150/800,"y":70/500}
		text_color:("#99c742")
		on_press: 
			app.root.current = "chooser" 
			root.manager.transition.direction = "left"		

	MDRectangleFlatIconButton:
		text:"Submit Form"
		font_size: 15
		icon: "send"
		size_hint_y: None
		pos_hint:{"x":485/800,"y":70/500}
		text_color:("#99c742")
		on_press:
			app.submitForm()
			app.root.current = "Main Menu" if file_directory.text == "Helpdesk Form is submitted." else "Helpdesk form"
			root.ids.user_email_address.text = "" if file_directory.text == "Helpdesk Form is submitted." else user_email_address.text
			root.ids.issue.text = "" if file_directory.text == "Helpdesk Form is submitted." else root.ids.issue.text
			root.ids.file_directory.text = "" if file_directory.text == "Helpdesk Form is submitted." else file_directory.text
			root.manager.transition.direction = "down"

	MDLabel:
		id: file_directory
		text:" "
		size_hint_y: None
		font_size: 15
		pos_hint:{"x":150/800,"y":50/500}
		height: self.texture_size[1]
		canvas.before:
			Color:
				rgba: (0,0,0,1)
		color: ("#673ab7")

<chooserpage>
	name: "chooser"
	FileChooser:
		pos_hint:{"x":0/800,"y":0/500}
		id:filechooser
		FileChooserIconLayout

	MDRectangleFlatButton:
		text: "Submit file"
		font_size:30
		pos_hint:{"x":330/800,"y":70/500}
		on_press: 
			app.selected(filechooser.selection)
			app.root.current = "Helpdesk form"

<helpdeskformlist>
	name:"HelpdeskFormList"

	MDRectangleFlatButton:
		text:"Menu"
		font_size: 15
		pos_hint:{"x":0.625,"y":0.85}
		size_hint_y: None		
		text_color:("#99c742")
		on_press:
			app.clearHelpdeskFormList("") 
			app.root.current = "Main Menu"
			root.manager.transition.direction = "down"

	MDRectangleFlatIconButton:
		text:"Back"
		font_size: 15
		pos_hint:{"x":0.75,"y":0.85}
		size_hint_y: None
		text_color:("#99c742")
		on_press:
			app.clearHelpdeskFormList("") 
			app.root.current = "Helpdesk form" if app.checkRole() == "user" else "Main Menu"
			root.manager.transition.direction = "right"

	MDLabel:
		text:"List of Helpdesk Forms"
		font_style: "H4"
		pos_hint:{"x":0.05,"y":0.85}
		size_hint_y: None
		height: self.texture_size[1]
		padding_y:15

	MDRectangleFlatButton:
		text:"Sort By"
		id: helpdeskformlist_sort_button
		font_size: 15
		pos_hint:{"x":0.25,"y":0.8}
		size_hint_y: None
		text_color:("#99c742")
		on_press: 
			app.formOpenSort()

	MDRectangleFlatButton:
		text:"Refresh"
		font_size: 15
		pos_hint:{"x":0.1,"y":0.8}
		size_hint_y: None
		text_color:("#99c742")
		on_press: 
			app.clearHelpdeskFormList("")
			app.loadHelpdeskForms()		

	MDRectangleFlatButton:
		text: "Previous Page"
		id: helpdeskformlist_previous_page_button
		disabled: True
		opacity: 0
		pos_hint: {"x":185/800,"y":50/500}
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		on_press:
			app.loadFormList("previous")

	MDLabel:
		id: helpdeskformlist_page_number_label
		text: ""
		font_size: 20
		pos_hint: {"x":310/800,"y":50/500}
		size_hint_y: None
		height: self.texture_size[1]

	MDRectangleFlatButton:
		text: "Next Page"
		id: helpdeskformlist_next_page_button
		disabled: True
		opacity: 0
		pos_hint: {"x":435/800,"y":50/500}
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		on_press:
			app.loadFormList("next")

	MDLabel:
		id: view_form_message
		text:" "
		pos_hint:{"x":50/800,"y":450/500}
		size_hint_y: None
		font_size: 15
		height: self.texture_size[1]
		color: ("#FF0000")

	MDList:
		size_hint_x: 1
		size_hint_y: 0.8
		TwoLineListItem:
			id: helpdeskformlistitem1
			text: ""
			secondary_text: ""
			on_press: 
				app.loadSelectedForm(1) if helpdeskformlistitem1.secondary_text != "" else app.loadSelectedForm(0)
				app.root.current = "ViewHelpdeskForm" if helpdeskformlistitem1.secondary_text != "" else "HelpdeskFormList"
				root.manager.transition.direction = "left"

		TwoLineListItem:
			id: helpdeskformlistitem2
			text: ""
			secondary_text: ""
			on_press: 
				app.loadSelectedForm(2) if helpdeskformlistitem2.secondary_text != "" else app.loadSelectedForm(0)
				app.root.current = "ViewHelpdeskForm" if helpdeskformlistitem2.secondary_text != "" else "HelpdeskFormList"
				root.manager.transition.direction = "left"

		TwoLineListItem:
			id: helpdeskformlistitem3
			text: ""
			secondary_text: ""
			on_press: 
				app.loadSelectedForm(3) if helpdeskformlistitem3.secondary_text != "" else app.loadSelectedForm(0)
				app.root.current = "ViewHelpdeskForm" if helpdeskformlistitem3.secondary_text != "" else "HelpdeskFormList"
				root.manager.transition.direction = "left"

		TwoLineListItem:
			id: helpdeskformlistitem4
			text: ""
			secondary_text: ""
			on_press: 
				app.loadSelectedForm(4) if helpdeskformlistitem4.secondary_text != "" else app.loadSelectedForm(0)
				app.root.current = "ViewHelpdeskForm" if helpdeskformlistitem4.secondary_text != "" else "HelpdeskFormList"
				root.manager.transition.direction = "left"

		TwoLineListItem:
			id: helpdeskformlistitem5
			text: ""
			secondary_text: ""
			on_press: 
				app.loadSelectedForm(5) if helpdeskformlistitem5.secondary_text != "" else app.loadSelectedForm(0)
				app.root.current = "ViewHelpdeskForm" if helpdeskformlistitem5.secondary_text != "" else "HelpdeskFormList"
				root.manager.transition.direction = "left"

<viewhelpdeskform>
	name:"ViewHelpdeskForm"
	
	MDRectangleFlatIconButton:
		text:"Back"
		font_size: 15
		pos_hint:{"x":0.75,"y":0.85}
		size_hint_y: None
		text_color:("#99c742")
		on_press: 
			app.clearHelpdeskFormList("formDetailsOnly")
			app.loadFormList("reload")
			app.root.current = "HelpdeskFormList"
			root.manager.transition.direction = "right"

	MDRectangleFlatButton:
		text:"Image"
		id: view_image_button
		font_size: 15
		pos_hint:{"x":0.625,"y":0.85}
		size_hint_y: None
		text_color:("#99c742")
		on_press: 
			app.loadImage()
			app.root.current = "ViewImage"
			root.manager.transition.direction = "left"

	MDRectangleFlatButton:
		text:"Solved"
		id: set_as_solved_button
		font_size: 15
		pos_hint: {"x":0.5, "y": 0.85}
		size_hint_y: None
		text_color:("#99c742")
		on_press:
			app.setSolved()

	MDLabel:
		id: solved_message
		text:""
		size_hint_y: None
		font_size:20
		height: self.texture_size[1]
		color: ("#FF0000")
		pos_hint:{"x":0.1,"y":0.8}

	MDLabel:
		text:"View Helpdesk Form"
		font_style: "H4"
		size_hint_y: None
		pos_hint:{"x":0.05,"y":0.85}
		height: self.texture_size[1]
		padding_y:15

	ScrollView:
		do_scroll_x  : False
		size_hint_x: 1
		size_hint_y: 0.8
		MDLabel:
			id: form_description
			text:""
			size_hint_y: None
			font_size:20
			height: self.texture_size[1]

<viewimage>
	name: "ViewImage"

	MDRectangleFlatIconButton:
		text:"Back"
		font_size: 15
		pos_hint:{"x":0.75,"y":0.85}
		size_hint_y: None
		text_color:("#99c742")
		on_press: 
			app.root.current = "ViewHelpdeskForm"
			root.manager.transition.direction = "right"
	
	MDLabel:
		text:"View Image"
		font_style: "H4"
		size_hint_y: None
		pos_hint:{"x":0.05,"y":0.85}
		height: self.texture_size[1]
		padding_y:15

	Image:
		id: form_image
		size_hint_x: 1
		size_hint_y: 0.8
		source: ""

<Helpdeskformlist_sort_dropdown>

	MDRectangleFlatButton:
		text:"Asc."
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissFormDropDown()
			app.setFormSortPreference("ascending")
			app.rearrangeForm()

	MDRectangleFlatButton:
		text:"Desc."
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissFormDropDown()
			app.setFormSortPreference("descending")
			app.rearrangeForm()

	MDRectangleFlatButton:
		text:"Solved"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissFormDropDown()
			app.setFormSortPreference("solved")
			app.rearrangeForm()

	MDRectangleFlatButton:
		text:"Unsolved"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissFormDropDown()
			app.setFormSortPreference("unsolved")
			app.rearrangeForm()

<addeditdeletefaqpage1>
	name: "AddEditDeleteFAQPage1"

	MDRectangleFlatButton:
		text:"Menu"
		id: faq1_menu_button
		font_size: 15
		pos_hint:{"x":0.625,"y":0.85}
		size_hint_y: None		
		text_color:("#99c742")
		on_press:
			app.clearFAQ()
			app.root.current = "Main Menu" if addeditdeletefaqpage1_title.text == "Edit Faq (Page 1)" else "FAQList"
			app.loadFAQs() if addeditdeletefaqpage1_title.text == "Add FAQ (Page 1)" else ()
			root.manager.transition.direction = "down" if addeditdeletefaqpage1_title.text == "Edit Faq (Page 1)" else "left"

	MDRectangleFlatIconButton:
		text:"Back"
		font_size: 15
		pos_hint:{"x":0.75,"y":0.85}
		size_hint_y: None
		text_color:("#99c742")
		on_press:
			app.clearFAQ()
			app.root.current = "Main Menu" if addeditdeletefaqpage1_title.text == "Add FAQ (Page 1)" else "ViewFAQ"
			root.manager.transition.direction = "down" if addeditdeletefaqpage1_title.text == "Add Faq (Page 1)" else"right"

	MDRectangleFlatButton:
		text:"Delete"
		id: faq1_delete_button
		font_size: 15
		pos_hint:{"x":0.495,"y":0.85}
		size_hint_y: None
		text_color:("#99c742")
		on_press:
			app.removeFAQ()
			app.root.current = "FAQList" if root.ids.faq_delete_error.text == "FAQ is deleted." else "AddEditDeleteFAQPage1"
			root.manager.transition.direction = "right"

	MDLabel:
		text:"Add FAQ (Page 1)"
		id: addeditdeletefaqpage1_title
		font_style: "H4"
		pos_hint:{"x":0.05,"y":0.85}
		size_hint_y: None
		height: self.texture_size[1]
		padding_y:15

	MDLabel:
		text:"Title*"
		size_hint_y: None
		font_size: 15
		pos_hint:{"x":150/800,"y":380/500}
		height: self.texture_size[1]

	MDTextField:
		id: faq_title
		hint_text: "Title"
		mode: "rectangle"
		size_hint: 450/800, None
		pos_hint: {"x":165/800,"y":340/500}
		width: 300
		font_size: 15

	MDLabel:
		id: faq_title_error
		text: ""
		size_hint_y: None
		font_size: 15
		pos_hint: {"x":165/800,"y":290/500}
		color: ("#FF0000")

	MDLabel:
		text:"Type of Device* (Choose one or both)"
		size_hint_y: None
		font_size: 15
		pos_hint:{"x":150/800,"y":300/500}
		height: self.texture_size[1]

	GridLayout:
		cols:2
		pos_hint: {"x":150/800,"y":270/500}
		width:0.1
		height: 0.05
		size_hint_x: 0.5
		size_hint_y: 0.05

		ToggleButton:
			id: computer_togglebutton
			text: "Computer"
			state: "normal"

		ToggleButton:
			id: smartphone_togglebutton
			text: "Smartphone"
			state: "normal"
			
	MDLabel:
		id: faq_computer_smartphone_error
		text: ""
		size_hint_y: None
		font_size: 15
		pos_hint: {"x":165/800,"y":220/500}
		color: ("#FF0000")

	MDLabel:
		text:"Category*"
		size_hint_y: None
		font_size: 15
		pos_hint:{"x":150/800,"y":230/500}
		height: self.texture_size[1]

	MDRectangleFlatButton:
		text:"Choose Category"
		id: faq_category_button
		font_size: 15
		pos_hint:{"x":155/800,"y":195/500}
		size_hint_y: None		
		text_color:("#99c742")
		on_press:
			app.openChooseCategory()

	MDLabel:
		text:"Subcategory (Optional)"
		size_hint_y: None
		font_size: 15
		pos_hint:{"x":335/800,"y":230/500}
		height: self.texture_size[1]

	MDTextField:
		id: faq_subcategory
		hint_text: "Subcategory (Optional)"
		mode: "rectangle"
		size_hint: 225/800, None
		pos_hint: {"x":340/800,"y":190/500}
		width: 200
		font_size: 15

	MDLabel:
		id: faq_category_subcategory_error
		text: ""
		size_hint_y: None
		font_size: 15
		pos_hint: {"x":165/800,"y":140/500}
		color: ("#FF0000")

	MDLabel:
		text:"Keywords (Optional)"
		size_hint_y: None
		font_size: 15
		pos_hint:{"x":150/800,"y":150/500}
		height: self.texture_size[1]

	MDTextField:
		id: faq_keywords
		hint_text: "Keywords (Optional)"
		mode: "rectangle"
		size_hint: 450/800, None
		pos_hint: {"x":165/800,"y":110/500}
		width: 300
		font_size: 15

	MDLabel:
		id: faq_keywords_error
		text: ""
		size_hint_y: None
		font_size: 15
		pos_hint: {"x":165/800,"y":60/500}
		color: ("#FF0000")

	MDLabel:
		id: faq_delete_error
		text: ""
		size_hint_y: None
		font_size: 15
		pos_hint: {"x":165/800,"y":45/500}
		color: ("#FF0000")

	MDRectangleFlatButton:
		text:"Next Page"
		font_size: 15
		pos_hint:{"x":0.75,"y":0.1}
		size_hint_y: None		
		text_color:("#99c742")
		on_press:
			app.root.current = "AddEditDeleteFAQPage2"
			root.manager.transition.direction = "left"

<addeditdeletefaqpage2>

	name: "AddEditDeleteFAQPage2"

	MDRectangleFlatButton:
		text:"Menu"
		id: faq2_menu_button
		font_size: 15
		pos_hint:{"x":0.625,"y":0.85}
		size_hint_y: None		
		text_color:("#99c742")
		on_press:
			app.clearFAQ()
			app.root.current = "Main Menu" if addeditdeletefaqpage2_title == "Edit FAQ (Page 2)" else "FAQList"
			app.loadFAQs() if addeditdeletefaqpage2_title == "Add FAQ (Page 2)" else ()
			root.manager.transition.direction = "down" if addeditdeletefaqpage2_title == "Add FAQ (Page 2)" else "right"

	MDRectangleFlatIconButton:
		text:"Back"
		font_size: 15
		pos_hint:{"x":0.75,"y":0.85}
		size_hint_y: None
		text_color:("#99c742")
		on_press:
			app.clearFAQ()
			app.root.current = "Main Menu" if addeditdeletefaqpage2_title == "Add FAQ (Page 2)" else "ViewFAQ"
			root.manager.transition.direction = "down" if addeditdeletefaqpage2_title == "Add Faq (Page 2)" else"right"

	MDRectangleFlatButton:
		text:"Delete"
		id: faq2_delete_button
		font_size: 15
		pos_hint:{"x":0.495,"y":0.85}
		size_hint_y: None
		text_color:("#99c742")
		on_press:
			app.removeFAQ()
			app.root.current = "FAQList" if root.ids.faq_upload_error.text == "FAQ is deleted." else "AddEditDeleteFAQPage2"
			root.manager.transition.direction = "right"

	MDLabel:
		text:"Add FAQ (Page 2)"
		id: addeditdeletefaqpage2_title
		font_style: "H4"
		pos_hint:{"x":0.05,"y":0.85}
		size_hint_y: None
		height: self.texture_size[1]
		padding_y:15

	MDLabel:
		text:"Part name\n (Mandatory if URL is filled, otherwise optional)"
		size_hint_y: None
		font_size: 15
		pos_hint:{"x":150/800,"y":380/500}
		height: self.texture_size[1]

	MDTextField:
		id: faq_partname
		hint_text: "Part Name (Optional)"
		mode: "rectangle"
		size_hint: 450/800, None
		pos_hint: {"x":165/800,"y":335/500}
		width: 300
		font_size: 15

	MDLabel:
		id: faq_partname_error
		text: ""
		size_hint_y: None
		font_size: 15
		pos_hint: {"x":165/800,"y":285/500}
		color: ("#FF0000")

	MDLabel:
		text:"URL link to third party website selling the part\n (Mandatory if part name is filled, otherwise optional)"
		size_hint_y: None
		font_size: 15
		pos_hint:{"x":150/800,"y":280/500}
		height: self.texture_size[1]

	MDTextField:
		id: faq_url
		hint_text: "URL (Optional)"
		mode: "rectangle"
		size_hint: 450/800, None
		pos_hint: {"x":165/800,"y":240/500}
		width: 200
		font_size: 15

	MDLabel:
		id: faq_url_error
		text: ""
		size_hint_y: None
		font_size: 15
		pos_hint: {"x":165/800,"y":190/500}
		color: ("#FF0000")

	MDLabel:
		text:"Content*"
		size_hint_y: None
		font_size: 15
		pos_hint:{"x":150/800,"y":200/500}
		height: self.texture_size[1]

	MDTextField:
		id: faq_content
		hint_text: "Content"
		mode: "rectangle"
		multiline: True 
		size_hint: 450/800, 90/500
		pos_hint: {"x":165/800,"y":115/500}
		width: 300
		font_size: 15

	MDLabel:
		id: faq_content_error
		text: ""
		size_hint_y: None
		font_size: 15
		pos_hint: {"x":165/800,"y":65/500}
		color: ("#FF0000")

	MDRectangleFlatButton:
		text:"Previous Page"
		font_size: 15
		pos_hint:{"x":0.15,"y":0.1}
		size_hint_y: None		
		text_color:("#99c742")
		on_press:
			app.root.current = "AddEditDeleteFAQPage1"
			root.manager.transition.direction = "right"

	MDLabel:
		id: faq_upload_error
		text: ""
		size_hint_y: None
		font_size: 15
		pos_hint: {"x":165/800,"y":45/500}
		color: ("#FF0000")

	MDRectangleFlatButton:
		text:"Upload"
		font_size: 15
		pos_hint:{"x":0.75,"y":0.1}
		size_hint_y: None		
		text_color:("#99c742")
		on_press:
			app.uploadFAQ()
			app.root.current = "Main Menu" if faq_upload_error.text == "FAQ is added." else ("FAQList" if faq_upload_error.text == "FAQ is edited." else "AddEditDeleteFAQPage2")
			root.manager.transition.direction = "down" if faq_upload_error.text == "FAQ is added." else "right"
			app.clearFAQ() if (faq_upload_error.text == "FAQ is added." or faq_upload_error.text == "FAQ is edited.") else ()

<FAQ_category_dropdown>

	MDRectangleFlatButton:
		text:"Hardware"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissCategoryDropDown("Hardware")

	MDRectangleFlatButton:
		text:"Security"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissCategoryDropDown("Security")

	MDRectangleFlatButton:
		text:"Architecture"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissCategoryDropDown("Architecture")

	MDRectangleFlatButton:
		text:"Connections"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissCategoryDropDown("Connections")

<faqlist>
	name:"FAQList"

	MDRectangleFlatIconButton:
		text:"Back"
		font_size: 15
		pos_hint:{"x":0.75,"y":0.88}
		size_hint_y: None
		text_color:("#99c742")
		on_press:
			app.clearFAQList("")
			app.root.current = "Main Menu" if app.checkRole() == "user" else "AddEditDeleteFAQPage1"
			app.setAddFAQ() if app.checkRole() == "administrator" else ()
			root.manager.transition.direction = "down"

	MDLabel:
		text:"List of FAQs"
		font_style: "H4"
		pos_hint:{"x":0.05,"y":0.85}
		size_hint_y: None
		height: self.texture_size[1]
		padding_y:15

	MDRectangleFlatButton:
		text:"Sort By"
		id: faqlist_sort_button
		font_size: 15
		pos_hint:{"x":0.225,"y":0.8}
		size_hint_y: None
		text_color:("#99c742")
		on_press: 
			app.faqOpenSort()

	MDRectangleFlatButton:
		text:"Category/Device"
		id: faqlist_catdev_button
		font_size: 15
		pos_hint:{"x":0.35,"y":0.8}
		size_hint_y: None
		text_color:("#99c742")
		on_press: 
			app.faqOpencategorydevice()

	MDRectangleFlatButton:
		text:"Refresh"
		font_size: 15
		pos_hint:{"x":0.1,"y":0.8}
		size_hint_y: None
		text_color:("#99c742")
		on_press: 
			app.clearFAQList("")
			app.loadFAQs()

	MDTextField:
		id: faq_search_word
		hint_text: "Enter word to search"
		mode: "rectangle"
		size_hint: 200/800, None
		pos_hint: {"x":0.55,"y":0.795}
		width: 200
		font_size: 15

	MDRectangleFlatButton:
		text:"Search"
		id: faqlist_search_button
		font_size: 15
		pos_hint:{"x":0.825,"y":0.8}
		size_hint_y: None
		text_color:("#99c742")
		on_press: 
			app.clearFAQList("notsearch")
			app.searchFAQs()	

	MDRectangleFlatButton:
		text: "Previous Page"
		id: faqlist_previous_page_button
		disabled: True
		opacity: 0
		pos_hint: {"x":185/800,"y":50/500}
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		on_press:
			app.loadFAQList("previous")

	MDLabel:
		id: faqlist_page_number_label
		text: ""
		font_size: 20
		pos_hint: {"x":310/800,"y":50/500}
		size_hint_y: None
		height: self.texture_size[1]

	MDRectangleFlatButton:
		text: "Next Page"
		id: faqlist_next_page_button
		disabled: True
		opacity: 0
		pos_hint: {"x":435/800,"y":50/500}
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		on_press:
			app.loadFAQList("next")

	MDLabel:
		id: view_faq_message
		text:""
		pos_hint:{"x":50/800,"y":480/500}
		size_hint_y: None
		font_size: 15
		height: self.texture_size[1]
		color: ("#FF0000")

	MDList:
		size_hint_x: 1
		size_hint_y: 0.8
		ThreeLineListItem:
			id: faqlistitem1
			text: ""
			secondary_text: ""
			tertiary_text: ""
			on_press: 
				app.loadSelectedFAQ(1) if faqlistitem1.secondary_text != "" else app.loadSelectedFAQ(0)
				app.root.current = "ViewFAQ" if faqlistitem1.secondary_text != "" else "FAQList"
				root.manager.transition.direction = "left"

		ThreeLineListItem:
			id: faqlistitem2
			text: ""
			secondary_text: ""
			tertiary_text: ""
			on_press: 
				app.loadSelectedFAQ(2) if faqlistitem2.secondary_text != "" else app.loadSelectedFAQ(0)
				app.root.current = "ViewFAQ" if faqlistitem2.secondary_text != "" else "FAQList"
				root.manager.transition.direction = "left"

		ThreeLineListItem:
			id: faqlistitem3
			text: ""
			secondary_text: ""
			tertiary_text: ""
			on_press: 
				app.loadSelectedFAQ(3) if faqlistitem3.secondary_text != "" else app.loadSelectedFAQ(0)
				app.root.current = "ViewFAQ" if faqlistitem3.secondary_text != "" else "FAQList"
				root.manager.transition.direction = "left"

		ThreeLineListItem:
			id: faqlistitem4
			text: ""
			secondary_text: ""
			tertiary_text: ""
			on_press: 
				app.loadSelectedFAQ(4) if faqlistitem4.secondary_text != "" else app.loadSelectedFAQ(0)
				app.root.current = "ViewFAQ" if faqlistitem4.secondary_text != "" else "FAQList"
				root.manager.transition.direction = "left"

<viewfaq>
	name:"ViewFAQ"
	
	MDRectangleFlatIconButton:
		text:"Back"
		font_size: 15
		pos_hint:{"x":0.75,"y":0.85}
		size_hint_y: None
		text_color:("#99c742")
		on_press: 
			app.clearFAQList("faqDetailsOnly")
			app.loadFAQList("reload")
			app.root.current = "FAQList"
			root.manager.transition.direction = "right"

	MDRectangleFlatButton:
		text:"Menu"
		font_size: 15
		pos_hint:{"x":0.625,"y":0.85}
		size_hint_y: None
		text_color:("#99c742")
		on_press: 
			app.clearFAQList("")
			app.root.current = "Main Menu"
			root.manager.transition.direction = "down"

	MDRectangleFlatButton:
		text:"Helpful"
		id: helpful_button
		font_size: 15
		pos_hint: {"x":0.45, "y": 0.85}
		size_hint_y: None
		text_color:("#99c742")
		on_press:
			app.setEditFAQ() if app.checkRole() == "administrator" else  app.setHelpful()
			app.root.current = "AddEditDeleteFAQPage1" if app.checkRole() == "administrator" else "ViewFAQ"
			root.manager.transition.direction = "left"

	MDLabel:
		id: helpful_message
		text:""
		size_hint_y: None
		font_size:20
		height: self.texture_size[1]
		color: ("#FF0000")
		pos_hint:{"x":0.1,"y":0.8}

	MDLabel:
		text:"View FAQ"
		font_style: "H4"
		size_hint_y: None
		pos_hint:{"x":0.05,"y":0.85}
		height: self.texture_size[1]
		padding_y:15

	ScrollView:
		do_scroll_x  : False
		size_hint_x: 1
		size_hint_y: 0.8
		MDLabel:
			id: faq_description
			text:""
			size_hint_y: None
			font_size:20
			height: self.texture_size[1]

<FAQlist_sort_dropdown>

	MDRectangleFlatButton:
		text:"Asc."
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissfaqsortDropDown()
			app.setFAQSortPreference("ascending")
			app.rearrangeFAQ()

	MDRectangleFlatButton:
		text:"Desc."
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissfaqsortDropDown()
			app.setFAQSortPreference("descending")
			app.rearrangeFAQ()

	MDRectangleFlatButton:
		text:"Date"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissfaqsortDropDown()
			app.setFAQSortPreference("date")
			app.rearrangeFAQ()

	MDRectangleFlatButton:
		text:"Rating"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissfaqsortDropDown()
			app.setFAQSortPreference("rating")
			app.rearrangeFAQ()

<FAQlist_catdev_dropdown>

	MDRectangleFlatButton:
		text:"Computer"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissfaqcatdevDropDown()
			app.setFAQcatdev("computer")
			app.rearrangeFAQ()

	MDRectangleFlatButton:
		text:"Smartphone"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissfaqcatdevDropDown()
			app.setFAQcatdev("smartphone")
			app.rearrangeFAQ()

	MDRectangleFlatButton:
		text:"Hardware"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissfaqcatdevDropDown()
			app.setFAQcatdev("hardware")
			app.rearrangeFAQ()

	MDRectangleFlatButton:
		text:"Security"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissfaqcatdevDropDown()
			app.setFAQcatdev("security")
			app.rearrangeFAQ()

	MDRectangleFlatButton:
		text:"Architecture"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissfaqcatdevDropDown()
			app.setFAQcatdev("architecture")
			app.rearrangeFAQ()

	MDRectangleFlatButton:
		text:"Connections"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissfaqcatdevDropDown()
			app.setFAQcatdev("connections")
			app.rearrangeFAQ()

	MDRectangleFlatButton:
		text:"All"
		font_size: 15
		size_hint_y: None
		text_color:("#99c742")
		md_bg_color: 0,0,0,1
		on_press:
			app.dismissfaqcatdevDropDown()
			app.setFAQcatdev("all")
			app.rearrangeFAQ()
